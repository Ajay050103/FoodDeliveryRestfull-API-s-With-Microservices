package com.ajayfoods.servics.impl;

import org.springframework.http.ResponseEntity;
import org.springframework.web.client.RestTemplate;

import com.ajayfoods.builder.OrderBuilder;
import com.ajayfoods.builder.OrderDtoBuilder;
import com.ajayfoods.dao.OrderRepository;
import com.ajayfoods.dto.OrderRequestDto;
import com.ajayfoods.dto.OrderResponseDto;
import com.ajayfoods.model.Order;
import com.ajayfoods.servics.OrderService;

public class OrderServiceImpl implements OrderService{
	private final OrderRepository orderRepository;  
	private final RestTemplate restTemplate;
	
	public OrderServiceImpl(OrderRepository orderRepository, RestTemplate restTemplate) {
		this.orderRepository = orderRepository;
		this.restTemplate = restTemplate;
	}

	@Override
	public OrderResponseDto placeOrder(OrderRequestDto orderRequestDto) {
		Order order = OrderBuilder.buildOrderFromOrderDto(orderRequestDto);
		Order savedOrder = orderRepository.save(order);
		OrderResponseDto orderResponseDto = OrderDtoBuilder.OrderResponseDtobuildOrderDtoFromOrder(savedOrder);
		return orderResponseDto;
	}
	
	private ResponseEntity<String> fetchRestaurantName(Order order) {
		restTemplate.getForEntity(null, String)
	}

}
